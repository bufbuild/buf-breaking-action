var ys=Object.create;var Ae=Object.defineProperty;var Is=Object.getOwnPropertyDescriptor;var Rs=Object.getOwnPropertyNames;var Ns=Object.getPrototypeOf,Os=Object.prototype.hasOwnProperty;var Ss=t=>Ae(t,"__esModule",{value:!0});var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var As=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Rs(e))!Os.call(t,s)&&s!=="default"&&Ae(t,s,{get:()=>e[s],enumerable:!(r=Is(e,s))||r.enumerable});return t},X=t=>As(Ss(Ae(t!=null?ys(Ns(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var he=p(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});function Ts(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Te.toCommandValue=Ts});var We=p(z=>{"use strict";var xs=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(z,"__esModule",{value:!0});var ws=xs(require("os")),Ve=he();function He(t,e,r){let s=new Me(t,e,r);process.stdout.write(s.toString()+ws.EOL)}z.issueCommand=He;function qs(t,e=""){He(t,{},e)}z.issue=qs;var Be="::",Me=class{constructor(e,r,s){e||(e="missing.command"),this.command=e,this.properties=r,this.message=s}toString(){let e=Be+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let s in this.properties)if(this.properties.hasOwnProperty(s)){let i=this.properties[s];i&&(r?r=!1:e+=",",e+=`${s}=${bs(i)}`)}}return e+=`${Be}${Ls(this.message)}`,e}};function Ls(t){return Ve.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function bs(t){return Ve.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var ke=p(Q=>{"use strict";var Ye=Q&&Q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(Q,"__esModule",{value:!0});var ze=Ye(require("fs")),Cs=Ye(require("os")),_s=he();function Ds(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!ze.existsSync(r))throw new Error(`Missing file at path: ${r}`);ze.appendFileSync(r,`${_s.toCommandValue(e)}${Cs.EOL}`,{encoding:"utf8"})}Q.issueCommand=Ds});var rt=p(y=>{"use strict";var Ps=y&&y.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(h){try{d(s.next(h))}catch(u){o(u)}}function l(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?n(h.value):i(h.value).then(a,l)}d((s=s.apply(t,e||[])).next())})},Ze=y&&y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(y,"__esModule",{value:!0});var b=We(),Je=ke(),Gs=he(),xe=Ze(require("os")),Fs=Ze(require("path")),Ke;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Ke=y.ExitCode||(y.ExitCode={}));function js(t,e){let r=Gs.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let i="_GitHubActionsFileCommandDelimeter_",n=`${t}<<${i}${xe.EOL}${r}${xe.EOL}${i}`;Je.issueCommand("ENV",n)}else b.issueCommand("set-env",{name:t},r)}y.exportVariable=js;function Us(t){b.issueCommand("add-mask",{},t)}y.setSecret=Us;function Xs(t){process.env.GITHUB_PATH||""?Je.issueCommand("PATH",t):b.issueCommand("add-path",{},t),process.env.PATH=`${t}${Fs.delimiter}${process.env.PATH}`}y.addPath=Xs;function Vs(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return r.trim()}y.getInput=Vs;function Hs(t,e){b.issueCommand("set-output",{name:t},e)}y.setOutput=Hs;function Bs(t){b.issue("echo",t?"on":"off")}y.setCommandEcho=Bs;function Ms(t){process.exitCode=Ke.Failure,Qe(t)}y.setFailed=Ms;function Ws(){return process.env.RUNNER_DEBUG==="1"}y.isDebug=Ws;function Ys(t){b.issueCommand("debug",{},t)}y.debug=Ys;function Qe(t){b.issue("error",t instanceof Error?t.toString():t)}y.error=Qe;function zs(t){b.issue("warning",t instanceof Error?t.toString():t)}y.warning=zs;function ks(t){process.stdout.write(t+xe.EOL)}y.info=ks;function et(t){b.issue("group",t)}y.startGroup=et;function tt(){b.issue("endgroup")}y.endGroup=tt;function Zs(t,e){return Ps(this,void 0,void 0,function*(){et(t);let r;try{r=yield e()}finally{tt()}return r})}y.group=Zs;function Js(t,e){b.issueCommand("save-state",{name:t},e)}y.saveState=Js;function Ks(t){return process.env[`STATE_${t}`]||""}y.getState=Ks});var nt=p(m=>{"use strict";var pe=m&&m.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(h){try{d(s.next(h))}catch(u){o(u)}}function l(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?n(h.value):i(h.value).then(a,l)}d((s=s.apply(t,e||[])).next())})},x;Object.defineProperty(m,"__esModule",{value:!0});var Qs=require("assert"),ei=require("fs"),k=require("path");x=ei.promises,m.chmod=x.chmod,m.copyFile=x.copyFile,m.lstat=x.lstat,m.mkdir=x.mkdir,m.readdir=x.readdir,m.readlink=x.readlink,m.rename=x.rename,m.rmdir=x.rmdir,m.stat=x.stat,m.symlink=x.symlink,m.unlink=x.unlink;m.IS_WINDOWS=process.platform==="win32";function ti(t){return pe(this,void 0,void 0,function*(){try{yield m.stat(t)}catch(e){if(e.code==="ENOENT")return!1;throw e}return!0})}m.exists=ti;function ri(t,e=!1){return pe(this,void 0,void 0,function*(){return(e?yield m.stat(t):yield m.lstat(t)).isDirectory()})}m.isDirectory=ri;function si(t){if(t=ni(t),!t)throw new Error('isRooted() parameter "p" cannot be empty');return m.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")}m.isRooted=si;function st(t,e=1e3,r=1){return pe(this,void 0,void 0,function*(){if(Qs.ok(t,"a path argument must be provided"),t=k.resolve(t),r>=e)return m.mkdir(t);try{yield m.mkdir(t);return}catch(s){switch(s.code){case"ENOENT":{yield st(k.dirname(t),e,r+1),yield m.mkdir(t);return}default:{let i;try{i=yield m.stat(t)}catch(n){throw s}if(!i.isDirectory())throw s}}}})}m.mkdirP=st;function ii(t,e){return pe(this,void 0,void 0,function*(){let r;try{r=yield m.stat(t)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${i}`)}if(r&&r.isFile()){if(m.IS_WINDOWS){let i=k.extname(t).toUpperCase();if(e.some(n=>n.toUpperCase()===i))return t}else if(it(r))return t}let s=t;for(let i of e){t=s+i,r=void 0;try{r=yield m.stat(t)}catch(n){n.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${n}`)}if(r&&r.isFile()){if(m.IS_WINDOWS){try{let n=k.dirname(t),o=k.basename(t).toUpperCase();for(let a of yield m.readdir(n))if(o===a.toUpperCase()){t=k.join(n,a);break}}catch(n){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${n}`)}return t}else if(it(r))return t}}return""})}m.tryGetExecutablePath=ii;function ni(t){return t=t||"",m.IS_WINDOWS?(t=t.replace(/\//g,"\\"),t.replace(/\\\\+/g,"\\")):t.replace(/\/\/+/g,"/")}function it(t){return(t.mode&1)>0||(t.mode&8)>0&&t.gid===process.getgid()||(t.mode&64)>0&&t.uid===process.getuid()}});var ct=p(P=>{"use strict";var V=P&&P.__awaiter||function(t,e,r,s){function i(n){return n instanceof r?n:new r(function(o){o(n)})}return new(r||(r=Promise))(function(n,o){function a(h){try{d(s.next(h))}catch(u){o(u)}}function l(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?n(h.value):i(h.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});var oi=require("child_process"),D=require("path"),ai=require("util"),g=nt(),we=ai.promisify(oi.exec);function ui(t,e,r={}){return V(this,void 0,void 0,function*(){let{force:s,recursive:i}=ci(r),n=(yield g.exists(e))?yield g.stat(e):null;if(n&&n.isFile()&&!s)return;let o=n&&n.isDirectory()?D.join(e,D.basename(t)):e;if(!(yield g.exists(t)))throw new Error(`no such file or directory: ${t}`);if((yield g.stat(t)).isDirectory())if(i)yield ut(t,o,0,s);else throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`);else{if(D.relative(t,o)==="")throw new Error(`'${o}' and '${t}' are the same file`);yield lt(t,o,s)}})}P.cp=ui;function li(t,e,r={}){return V(this,void 0,void 0,function*(){if(yield g.exists(e)){let s=!0;if((yield g.isDirectory(e))&&(e=D.join(e,D.basename(t)),s=yield g.exists(e)),s)if(r.force==null||r.force)yield ot(e);else throw new Error("Destination already exists")}yield qe(D.dirname(e)),yield g.rename(t,e)})}P.mv=li;function ot(t){return V(this,void 0,void 0,function*(){if(g.IS_WINDOWS){try{(yield g.isDirectory(t,!0))?yield we(`rd /s /q "${t}"`):yield we(`del /f /a "${t}"`)}catch(e){if(e.code!=="ENOENT")throw e}try{yield g.unlink(t)}catch(e){if(e.code!=="ENOENT")throw e}}else{let e=!1;try{e=yield g.isDirectory(t)}catch(r){if(r.code!=="ENOENT")throw r;return}e?yield we(`rm -rf "${t}"`):yield g.unlink(t)}})}P.rmRF=ot;function qe(t){return V(this,void 0,void 0,function*(){yield g.mkdirP(t)})}P.mkdirP=qe;function at(t,e){return V(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(e&&!(yield at(t,!1)))throw g.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);try{let r=[];if(g.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(D.delimiter))i&&r.push(i);if(g.isRooted(t)){let i=yield g.tryGetExecutablePath(t,r);return i||""}if(t.includes("/")||g.IS_WINDOWS&&t.includes("\\"))return"";let s=[];if(process.env.PATH)for(let i of process.env.PATH.split(D.delimiter))i&&s.push(i);for(let i of s){let n=yield g.tryGetExecutablePath(i+D.sep+t,r);if(n)return n}return""}catch(r){throw new Error(`which failed with message ${r.message}`)}})}P.which=at;function ci(t){let e=t.force==null?!0:t.force,r=Boolean(t.recursive);return{force:e,recursive:r}}function ut(t,e,r,s){return V(this,void 0,void 0,function*(){if(r>=255)return;r++,yield qe(e);let i=yield g.readdir(t);for(let n of i){let o=`${t}/${n}`,a=`${e}/${n}`;(yield g.lstat(o)).isDirectory()?yield ut(o,a,r,s):yield lt(o,a,s)}yield g.chmod(e,(yield g.stat(t)).mode)})}function lt(t,e,r){return V(this,void 0,void 0,function*(){if((yield g.lstat(t)).isSymbolicLink()){try{yield g.lstat(e),yield g.unlink(e)}catch(i){i.code==="EPERM"&&(yield g.chmod(e,"0666"),yield g.unlink(e))}let s=yield g.readlink(t);yield g.symlink(s,e,g.IS_WINDOWS?"junction":null)}else(!(yield g.exists(e))||r)&&(yield g.copyFile(t,e))})}});var ee=p((Co,ft)=>{var fi="2.0.0",hi=256,pi=Number.MAX_SAFE_INTEGER||9007199254740991,di=16;ft.exports={SEMVER_SPEC_VERSION:fi,MAX_LENGTH:hi,MAX_SAFE_INTEGER:pi,MAX_SAFE_COMPONENT_LENGTH:di}});var te=p((_o,ht)=>{var Ei=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ht.exports=Ei});var H=p((j,pt)=>{var{MAX_SAFE_COMPONENT_LENGTH:Le}=ee(),mi=te();j=pt.exports={};var gi=j.re=[],c=j.src=[],f=j.t={},vi=0,E=(t,e,r)=>{let s=vi++;mi(s,e),f[t]=s,c[s]=e,gi[s]=new RegExp(e,r?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","[0-9]+");E("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");E("MAINVERSION",`(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${c[f.NUMERICIDENTIFIER]}|${c[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${c[f.NUMERICIDENTIFIERLOOSE]}|${c[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${c[f.PRERELEASEIDENTIFIER]}(?:\\.${c[f.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${c[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[f.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER","[0-9A-Za-z-]+");E("BUILD",`(?:\\+(${c[f.BUILDIDENTIFIER]}(?:\\.${c[f.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${c[f.MAINVERSION]}${c[f.PRERELEASE]}?${c[f.BUILD]}?`);E("FULL",`^${c[f.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${c[f.MAINVERSIONLOOSE]}${c[f.PRERELEASELOOSE]}?${c[f.BUILD]}?`);E("LOOSE",`^${c[f.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${c[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${c[f.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:${c[f.PRERELEASE]})?${c[f.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:${c[f.PRERELEASELOOSE]})?${c[f.BUILD]}?)?)?`);E("XRANGE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAINLOOSE]}$`);E("COERCE",`(^|[^\\d])(\\d{1,${Le}})(?:\\.(\\d{1,${Le}}))?(?:\\.(\\d{1,${Le}}))?(?:$|[^\\d])`);E("COERCERTL",c[f.COERCE],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${c[f.LONETILDE]}\\s+`,!0);j.tildeTrimReplace="$1~";E("TILDE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${c[f.LONECARET]}\\s+`,!0);j.caretTrimReplace="$1^";E("CARET",`^${c[f.LONECARET]}${c[f.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${c[f.LONECARET]}${c[f.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${c[f.GTLT]}\\s*(${c[f.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]}|${c[f.XRANGEPLAIN]})`,!0);j.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${c[f.XRANGEPLAIN]})\\s+-\\s+(${c[f.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${c[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[f.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0.0.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var re=p((Do,dt)=>{var $i=["includePrerelease","loose","rtl"],yi=t=>t?typeof t!="object"?{loose:!0}:$i.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};dt.exports=yi});var de=p((Po,gt)=>{var Et=/^[0-9]+$/,mt=(t,e)=>{let r=Et.test(t),s=Et.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},Ii=(t,e)=>mt(e,t);gt.exports={compareIdentifiers:mt,rcompareIdentifiers:Ii}});var O=p((Go,It)=>{var Ee=te(),{MAX_LENGTH:vt,MAX_SAFE_INTEGER:me}=ee(),{re:$t,t:yt}=H(),Ri=re(),{compareIdentifiers:se}=de(),w=class{constructor(e,r){if(r=Ri(r),e instanceof w){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>vt)throw new TypeError(`version is longer than ${vt} characters`);Ee("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?$t[yt.LOOSE]:$t[yt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>me||this.major<0)throw new TypeError("Invalid major version");if(this.minor>me||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>me||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let n=+i;if(n>=0&&n<me)return n}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ee("SemVer.compare",this.version,this.options,e),!(e instanceof w)){if(typeof e=="string"&&e===this.version)return 0;e=new w(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof w||(e=new w(e,this.options)),se(this.major,e.major)||se(this.minor,e.minor)||se(this.patch,e.patch)}comparePre(e){if(e instanceof w||(e=new w(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],i=e.prerelease[r];if(Ee("prerelease compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return se(s,i)}while(++r)}compareBuild(e){e instanceof w||(e=new w(e,this.options));let r=0;do{let s=this.build[r],i=e.build[r];if(Ee("prerelease compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return se(s,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};It.exports=w});var B=p((Fo,St)=>{var{MAX_LENGTH:Ni}=ee(),{re:Rt,t:Nt}=H(),Ot=O(),Oi=re(),Si=(t,e)=>{if(e=Oi(e),t instanceof Ot)return t;if(typeof t!="string"||t.length>Ni||!(e.loose?Rt[Nt.LOOSE]:Rt[Nt.FULL]).test(t))return null;try{return new Ot(t,e)}catch(s){return null}};St.exports=Si});var Tt=p((jo,At)=>{var Ai=B(),Ti=(t,e)=>{let r=Ai(t,e);return r?r.version:null};At.exports=Ti});var wt=p((Uo,xt)=>{var xi=B(),wi=(t,e)=>{let r=xi(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};xt.exports=wi});var Lt=p((Xo,qt)=>{var qi=O(),Li=(t,e,r,s)=>{typeof r=="string"&&(s=r,r=void 0);try{return new qi(t,r).inc(e,s).version}catch(i){return null}};qt.exports=Li});var q=p((Vo,Ct)=>{var bt=O(),bi=(t,e,r)=>new bt(t,r).compare(new bt(e,r));Ct.exports=bi});var ge=p((Ho,_t)=>{var Ci=q(),_i=(t,e,r)=>Ci(t,e,r)===0;_t.exports=_i});var Gt=p((Bo,Pt)=>{var Dt=B(),Di=ge(),Pi=(t,e)=>{if(Di(t,e))return null;{let r=Dt(t),s=Dt(e),i=r.prerelease.length||s.prerelease.length,n=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==s[a])return n+a;return o}};Pt.exports=Pi});var jt=p((Mo,Ft)=>{var Gi=O(),Fi=(t,e)=>new Gi(t,e).major;Ft.exports=Fi});var Xt=p((Wo,Ut)=>{var ji=O(),Ui=(t,e)=>new ji(t,e).minor;Ut.exports=Ui});var Ht=p((Yo,Vt)=>{var Xi=O(),Vi=(t,e)=>new Xi(t,e).patch;Vt.exports=Vi});var Mt=p((zo,Bt)=>{var Hi=B(),Bi=(t,e)=>{let r=Hi(t,e);return r&&r.prerelease.length?r.prerelease:null};Bt.exports=Bi});var Yt=p((ko,Wt)=>{var Mi=q(),Wi=(t,e,r)=>Mi(e,t,r);Wt.exports=Wi});var kt=p((Zo,zt)=>{var Yi=q(),zi=(t,e)=>Yi(t,e,!0);zt.exports=zi});var ve=p((Jo,Jt)=>{var Zt=O(),ki=(t,e,r)=>{let s=new Zt(t,r),i=new Zt(e,r);return s.compare(i)||s.compareBuild(i)};Jt.exports=ki});var Qt=p((Ko,Kt)=>{var Zi=ve(),Ji=(t,e)=>t.sort((r,s)=>Zi(r,s,e));Kt.exports=Ji});var tr=p((Qo,er)=>{var Ki=ve(),Qi=(t,e)=>t.sort((r,s)=>Ki(s,r,e));er.exports=Qi});var ie=p((ea,rr)=>{var en=q(),tn=(t,e,r)=>en(t,e,r)>0;rr.exports=tn});var $e=p((ta,sr)=>{var rn=q(),sn=(t,e,r)=>rn(t,e,r)<0;sr.exports=sn});var be=p((ra,ir)=>{var nn=q(),on=(t,e,r)=>nn(t,e,r)!==0;ir.exports=on});var ye=p((sa,nr)=>{var an=q(),un=(t,e,r)=>an(t,e,r)>=0;nr.exports=un});var Ie=p((ia,or)=>{var ln=q(),cn=(t,e,r)=>ln(t,e,r)<=0;or.exports=cn});var Ce=p((na,ar)=>{var fn=ge(),hn=be(),pn=ie(),dn=ye(),En=$e(),mn=Ie(),gn=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return fn(t,r,s);case"!=":return hn(t,r,s);case">":return pn(t,r,s);case">=":return dn(t,r,s);case"<":return En(t,r,s);case"<=":return mn(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};ar.exports=gn});var lr=p((oa,ur)=>{var vn=O(),$n=B(),{re:Re,t:Ne}=H(),yn=(t,e)=>{if(t instanceof vn)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Re[Ne.COERCE]);else{let s;for(;(s=Re[Ne.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||s.index+s[0].length!==r.index+r[0].length)&&(r=s),Re[Ne.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Re[Ne.COERCERTL].lastIndex=-1}return r===null?null:$n(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};ur.exports=yn});var fr=p((aa,cr)=>{"use strict";cr.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var pr=p((ua,hr)=>{"use strict";hr.exports=v;v.Node=M;v.create=v;function v(t){var e=this;if(e instanceof v||(e=new v),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}v.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};v.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};v.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};v.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Rn(this,arguments[t]);return this.length};v.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Nn(this,arguments[t]);return this.length};v.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};v.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};v.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next};v.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev};v.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};v.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};v.prototype.map=function(t,e){e=e||this;for(var r=new v,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r};v.prototype.mapReverse=function(t,e){e=e||this;for(var r=new v,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r};v.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;s!==null;i++)r=t(r,s.value,i),s=s.next;return r};v.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;s!==null;i--)r=t(r,s.value,i),s=s.prev;return r};v.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};v.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};v.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new v;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(;i!==null&&s<e;s++,i=i.next)r.push(i.value);return r};v.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new v;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,i=this.tail;i!==null&&s>e;s--)i=i.prev;for(;i!==null&&s>t;s--,i=i.prev)r.push(i.value);return r};v.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(var n=[],s=0;i&&s<e;s++)n.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var s=0;s<r.length;s++)i=In(this,i,r[s]);return n};v.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function In(t,e,r){var s=e===t.head?new M(r,null,e,t):new M(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function Rn(t,e){t.tail=new M(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Nn(t,e){t.head=new M(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function M(t,e,r,s){if(!(this instanceof M))return new M(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{fr()(v)}catch(t){}});var yr=p((la,$r)=>{"use strict";var On=pr(),W=Symbol("max"),G=Symbol("length"),Z=Symbol("lengthCalculator"),ne=Symbol("allowStale"),Y=Symbol("maxAge"),F=Symbol("dispose"),dr=Symbol("noDisposeOnSet"),R=Symbol("lruList"),C=Symbol("cache"),Er=Symbol("updateAgeOnGet"),_e=()=>1,mr=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[W]=e.max||1/0,s=e.length||_e;if(this[Z]=typeof s!="function"?_e:s,this[ne]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Y]=e.maxAge||0,this[F]=e.dispose,this[dr]=e.noDisposeOnSet||!1,this[Er]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[W]=e||1/0,oe(this)}get max(){return this[W]}set allowStale(e){this[ne]=!!e}get allowStale(){return this[ne]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Y]=e,oe(this)}get maxAge(){return this[Y]}set lengthCalculator(e){typeof e!="function"&&(e=_e),e!==this[Z]&&(this[Z]=e,this[G]=0,this[R].forEach(r=>{r.length=this[Z](r.value,r.key),this[G]+=r.length})),oe(this)}get lengthCalculator(){return this[Z]}get length(){return this[G]}get itemCount(){return this[R].length}rforEach(e,r){r=r||this;for(let s=this[R].tail;s!==null;){let i=s.prev;vr(this,e,s,r),s=i}}forEach(e,r){r=r||this;for(let s=this[R].head;s!==null;){let i=s.next;vr(this,e,s,r),s=i}}keys(){return this[R].toArray().map(e=>e.key)}values(){return this[R].toArray().map(e=>e.value)}reset(){this[F]&&this[R]&&this[R].length&&this[R].forEach(e=>this[F](e.key,e.value)),this[C]=new Map,this[R]=new On,this[G]=0}dump(){return this[R].map(e=>Oe(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[R]}set(e,r,s){if(s=s||this[Y],s&&typeof s!="number")throw new TypeError("maxAge must be a number");let i=s?Date.now():0,n=this[Z](r,e);if(this[C].has(e)){if(n>this[W])return J(this,this[C].get(e)),!1;let l=this[C].get(e).value;return this[F]&&(this[dr]||this[F](e,l.value)),l.now=i,l.maxAge=s,l.value=r,this[G]+=n-l.length,l.length=n,this.get(e),oe(this),!0}let o=new gr(e,r,n,i,s);return o.length>this[W]?(this[F]&&this[F](e,r),!1):(this[G]+=o.length,this[R].unshift(o),this[C].set(e,this[R].head),oe(this),!0)}has(e){if(!this[C].has(e))return!1;let r=this[C].get(e).value;return!Oe(this,r)}get(e){return De(this,e,!0)}peek(e){return De(this,e,!1)}pop(){let e=this[R].tail;return e?(J(this,e),e.value):null}del(e){J(this,this[C].get(e))}load(e){this.reset();let r=Date.now();for(let s=e.length-1;s>=0;s--){let i=e[s],n=i.e||0;if(n===0)this.set(i.k,i.v);else{let o=n-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[C].forEach((e,r)=>De(this,r,!1))}},De=(t,e,r)=>{let s=t[C].get(e);if(s){let i=s.value;if(Oe(t,i)){if(J(t,s),!t[ne])return}else r&&(t[Er]&&(s.value.now=Date.now()),t[R].unshiftNode(s));return i.value}},Oe=(t,e)=>{if(!e||!e.maxAge&&!t[Y])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Y]&&r>t[Y]},oe=t=>{if(t[G]>t[W])for(let e=t[R].tail;t[G]>t[W]&&e!==null;){let r=e.prev;J(t,e),e=r}},J=(t,e)=>{if(e){let r=e.value;t[F]&&t[F](r.key,r.value),t[G]-=r.length,t[C].delete(r.key),t[R].removeNode(e)}},gr=class{constructor(e,r,s,i,n){this.key=e,this.value=r,this.length=s,this.now=i,this.maxAge=n||0}},vr=(t,e,r,s)=>{let i=r.value;Oe(t,i)&&(J(t,r),t[ne]||(i=void 0)),i&&e.call(s,i.value,i.key,t)};$r.exports=mr});var L=p((ca,Or)=>{var K=class{constructor(e,r){if(r=An(r),e instanceof K)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new K(e.raw,r);if(e instanceof Pe)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(i=>!Rr(i[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Ln(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let s=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Ir.get(s);if(i)return i;let n=this.options.loose,o=n?S[N.HYPHENRANGELOOSE]:S[N.HYPHENRANGE];e=e.replace(o,Xn(this.options.includePrerelease)),I("hyphen replace",e),e=e.replace(S[N.COMPARATORTRIM],xn),I("comparator trim",e,S[N.COMPARATORTRIM]),e=e.replace(S[N.TILDETRIM],wn),e=e.replace(S[N.CARETTRIM],qn),e=e.split(/\s+/).join(" ");let a=n?S[N.COMPARATORLOOSE]:S[N.COMPARATOR],l=e.split(" ").map($=>bn($,this.options)).join(" ").split(/\s+/).map($=>Un($,this.options)).filter(this.options.loose?$=>!!$.match(a):()=>!0).map($=>new Pe($,this.options)),d=l.length,h=new Map;for(let $ of l){if(Rr($))return[$];h.set($.value,$)}h.size>1&&h.has("")&&h.delete("");let u=[...h.values()];return Ir.set(s,u),u}intersects(e,r){if(!(e instanceof K))throw new TypeError("a Range is required");return this.set.some(s=>Nr(s,r)&&e.set.some(i=>Nr(i,r)&&s.every(n=>i.every(o=>n.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Tn(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(Vn(this.set[r],e,this.options))return!0;return!1}};Or.exports=K;var Sn=yr(),Ir=new Sn({max:1e3}),An=re(),Pe=ae(),I=te(),Tn=O(),{re:S,t:N,comparatorTrimReplace:xn,tildeTrimReplace:wn,caretTrimReplace:qn}=H(),Rr=t=>t.value==="<0.0.0-0",Ln=t=>t.value==="",Nr=(t,e)=>{let r=!0,s=t.slice(),i=s.pop();for(;r&&s.length;)r=s.every(n=>i.intersects(n,e)),i=s.pop();return r},bn=(t,e)=>(I("comp",t,e),t=Dn(t,e),I("caret",t),t=Cn(t,e),I("tildes",t),t=Gn(t,e),I("xrange",t),t=jn(t,e),I("stars",t),t),A=t=>!t||t.toLowerCase()==="x"||t==="*",Cn=(t,e)=>t.trim().split(/\s+/).map(r=>_n(r,e)).join(" "),_n=(t,e)=>{let r=e.loose?S[N.TILDELOOSE]:S[N.TILDE];return t.replace(r,(s,i,n,o,a)=>{I("tilde",t,s,i,n,o,a);let l;return A(i)?l="":A(n)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:A(o)?l=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(I("replaceTilde pr",a),l=`>=${i}.${n}.${o}-${a} <${i}.${+n+1}.0-0`):l=`>=${i}.${n}.${o} <${i}.${+n+1}.0-0`,I("tilde return",l),l})},Dn=(t,e)=>t.trim().split(/\s+/).map(r=>Pn(r,e)).join(" "),Pn=(t,e)=>{I("caret",t,e);let r=e.loose?S[N.CARETLOOSE]:S[N.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(i,n,o,a,l)=>{I("caret",t,i,n,o,a,l);let d;return A(n)?d="":A(o)?d=`>=${n}.0.0${s} <${+n+1}.0.0-0`:A(a)?n==="0"?d=`>=${n}.${o}.0${s} <${n}.${+o+1}.0-0`:d=`>=${n}.${o}.0${s} <${+n+1}.0.0-0`:l?(I("replaceCaret pr",l),n==="0"?o==="0"?d=`>=${n}.${o}.${a}-${l} <${n}.${o}.${+a+1}-0`:d=`>=${n}.${o}.${a}-${l} <${n}.${+o+1}.0-0`:d=`>=${n}.${o}.${a}-${l} <${+n+1}.0.0-0`):(I("no pr"),n==="0"?o==="0"?d=`>=${n}.${o}.${a}${s} <${n}.${o}.${+a+1}-0`:d=`>=${n}.${o}.${a}${s} <${n}.${+o+1}.0-0`:d=`>=${n}.${o}.${a} <${+n+1}.0.0-0`),I("caret return",d),d})},Gn=(t,e)=>(I("replaceXRanges",t,e),t.split(/\s+/).map(r=>Fn(r,e)).join(" ")),Fn=(t,e)=>{t=t.trim();let r=e.loose?S[N.XRANGELOOSE]:S[N.XRANGE];return t.replace(r,(s,i,n,o,a,l)=>{I("xRange",t,s,i,n,o,a,l);let d=A(n),h=d||A(o),u=h||A(a),$=u;return i==="="&&$&&(i=""),l=e.includePrerelease?"-0":"",d?i===">"||i==="<"?s="<0.0.0-0":s="*":i&&$?(h&&(o=0),a=0,i===">"?(i=">=",h?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?n=+n+1:o=+o+1),i==="<"&&(l="-0"),s=`${i+n}.${o}.${a}${l}`):h?s=`>=${n}.0.0${l} <${+n+1}.0.0-0`:u&&(s=`>=${n}.${o}.0${l} <${n}.${+o+1}.0-0`),I("xRange return",s),s})},jn=(t,e)=>(I("replaceStars",t,e),t.trim().replace(S[N.STAR],"")),Un=(t,e)=>(I("replaceGTE0",t,e),t.trim().replace(S[e.includePrerelease?N.GTE0PRE:N.GTE0],"")),Xn=t=>(e,r,s,i,n,o,a,l,d,h,u,$,_)=>(A(s)?r="":A(i)?r=`>=${s}.0.0${t?"-0":""}`:A(n)?r=`>=${s}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,A(d)?l="":A(h)?l=`<${+d+1}.0.0-0`:A(u)?l=`<${d}.${+h+1}.0-0`:$?l=`<=${d}.${h}.${u}-${$}`:t?l=`<${d}.${h}.${+u+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Vn=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(I(t[s].semver),t[s].semver!==Pe.ANY&&t[s].semver.prerelease.length>0){let i=t[s].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var ae=p((fa,wr)=>{var ue=Symbol("SemVer ANY"),le=class{static get ANY(){return ue}constructor(e,r){if(r=Hn(r),e instanceof le){if(e.loose===!!r.loose)return e;e=e.value}Fe("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ue?this.value="":this.value=this.operator+this.semver.version,Fe("comp",this)}parse(e){let r=this.options.loose?Sr[Ar.COMPARATORLOOSE]:Sr[Ar.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Tr(s[2],this.options.loose):this.semver=ue}toString(){return this.value}test(e){if(Fe("Comparator.test",e,this.options.loose),this.semver===ue||e===ue)return!0;if(typeof e=="string")try{e=new Tr(e,this.options)}catch(r){return!1}return Ge(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof le))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new xr(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new xr(this.value,r).test(e.semver);let s=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),n=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Ge(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=Ge(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return s||i||n&&o||a||l}};wr.exports=le;var Hn=re(),{re:Sr,t:Ar}=H(),Ge=Ce(),Fe=te(),Tr=O(),xr=L()});var ce=p((ha,qr)=>{var Bn=L(),Mn=(t,e,r)=>{try{e=new Bn(e,r)}catch(s){return!1}return e.test(t)};qr.exports=Mn});var br=p((pa,Lr)=>{var Wn=L(),Yn=(t,e)=>new Wn(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));Lr.exports=Yn});var _r=p((da,Cr)=>{var zn=O(),kn=L(),Zn=(t,e,r)=>{let s=null,i=null,n=null;try{n=new kn(e,r)}catch(o){return null}return t.forEach(o=>{n.test(o)&&(!s||i.compare(o)===-1)&&(s=o,i=new zn(s,r))}),s};Cr.exports=Zn});var Pr=p((Ea,Dr)=>{var Jn=O(),Kn=L(),Qn=(t,e,r)=>{let s=null,i=null,n=null;try{n=new Kn(e,r)}catch(o){return null}return t.forEach(o=>{n.test(o)&&(!s||i.compare(o)===1)&&(s=o,i=new Jn(s,r))}),s};Dr.exports=Qn});var jr=p((ma,Fr)=>{var je=O(),eo=L(),Gr=ie(),to=(t,e)=>{t=new eo(t,e);let r=new je("0.0.0");if(t.test(r)||(r=new je("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let i=t.set[s],n=null;i.forEach(o=>{let a=new je(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!n||Gr(a,n))&&(n=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),n&&(!r||Gr(r,n))&&(r=n)}return r&&t.test(r)?r:null};Fr.exports=to});var Xr=p((ga,Ur)=>{var ro=L(),so=(t,e)=>{try{return new ro(t,e).range||"*"}catch(r){return null}};Ur.exports=so});var Se=p((va,Mr)=>{var io=O(),Vr=ae(),{ANY:no}=Vr,oo=L(),ao=ce(),Hr=ie(),Br=$e(),uo=Ie(),lo=ye(),co=(t,e,r,s)=>{t=new io(t,s),e=new oo(e,s);let i,n,o,a,l;switch(r){case">":i=Hr,n=uo,o=Br,a=">",l=">=";break;case"<":i=Br,n=lo,o=Hr,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ao(t,e,s))return!1;for(let d=0;d<e.set.length;++d){let h=e.set[d],u=null,$=null;if(h.forEach(_=>{_.semver===no&&(_=new Vr(">=0.0.0")),u=u||_,$=$||_,i(_.semver,u.semver,s)?u=_:o(_.semver,$.semver,s)&&($=_)}),u.operator===a||u.operator===l||(!$.operator||$.operator===a)&&n(t,$.semver))return!1;if($.operator===l&&o(t,$.semver))return!1}return!0};Mr.exports=co});var Yr=p(($a,Wr)=>{var fo=Se(),ho=(t,e,r)=>fo(t,e,">",r);Wr.exports=ho});var kr=p((ya,zr)=>{var po=Se(),Eo=(t,e,r)=>po(t,e,"<",r);zr.exports=Eo});var Kr=p((Ia,Jr)=>{var Zr=L(),mo=(t,e,r)=>(t=new Zr(t,r),e=new Zr(e,r),t.intersects(e));Jr.exports=mo});var es=p((Ra,Qr)=>{var go=ce(),vo=q();Qr.exports=(t,e,r)=>{let s=[],i=null,n=null,o=t.sort((h,u)=>vo(h,u,r));for(let h of o)go(h,e,r)?(n=h,i||(i=h)):(n&&s.push([i,n]),n=null,i=null);i&&s.push([i,null]);let a=[];for(let[h,u]of s)h===u?a.push(h):!u&&h===o[0]?a.push("*"):u?h===o[0]?a.push(`<=${u}`):a.push(`${h} - ${u}`):a.push(`>=${h}`);let l=a.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e}});var os=p((Na,ns)=>{var ts=L(),{ANY:rs}=ae(),fe=ce(),Ue=q(),$o=(t,e,r)=>{if(t===e)return!0;t=new ts(t,r),e=new ts(e,r);let s=!1;e:for(let i of t.set){for(let n of e.set){let o=yo(i,n,r);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},yo=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===rs)return e.length===1&&e[0].semver===rs;let s=new Set,i,n;for(let u of t)u.operator===">"||u.operator===">="?i=ss(i,u,r):u.operator==="<"||u.operator==="<="?n=is(n,u,r):s.add(u.semver);if(s.size>1)return null;let o;if(i&&n){if(o=Ue(i.semver,n.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||n.operator!=="<="))return null}for(let u of s){if(i&&!fe(u,String(i),r)||n&&!fe(u,String(n),r))return null;for(let $ of e)if(!fe(u,String($),r))return!1;return!0}let a,l,d,h;for(let u of e){if(h=h||u.operator===">"||u.operator===">=",d=d||u.operator==="<"||u.operator==="<=",i){if(u.operator===">"||u.operator===">="){if(a=ss(i,u,r),a===u&&a!==i)return!1}else if(i.operator===">="&&!fe(i.semver,String(u),r))return!1}if(n){if(u.operator==="<"||u.operator==="<="){if(l=is(n,u,r),l===u&&l!==n)return!1}else if(n.operator==="<="&&!fe(n.semver,String(u),r))return!1}if(!u.operator&&(n||i)&&o!==0)return!1}return!(i&&d&&!n&&o!==0||n&&h&&!i&&o!==0)},ss=(t,e,r)=>{if(!t)return e;let s=Ue(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},is=(t,e,r)=>{if(!t)return e;let s=Ue(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};ns.exports=$o});var us=p((Oa,as)=>{var Xe=H();as.exports={re:Xe.re,src:Xe.src,tokens:Xe.t,SEMVER_SPEC_VERSION:ee().SEMVER_SPEC_VERSION,SemVer:O(),compareIdentifiers:de().compareIdentifiers,rcompareIdentifiers:de().rcompareIdentifiers,parse:B(),valid:Tt(),clean:wt(),inc:Lt(),diff:Gt(),major:jt(),minor:Xt(),patch:Ht(),prerelease:Mt(),compare:q(),rcompare:Yt(),compareLoose:kt(),compareBuild:ve(),sort:Qt(),rsort:tr(),gt:ie(),lt:$e(),eq:ge(),neq:be(),gte:ye(),lte:Ie(),cmp:Ce(),coerce:lr(),Comparator:ae(),Range:L(),satisfies:ce(),toComparators:br(),maxSatisfying:_r(),minSatisfying:Pr(),minVersion:jr(),validRange:Xr(),outside:Se(),gtr:Yr(),ltr:kr(),intersects:Kr(),simplifyRange:es(),subset:os()}});var T=X(rt()),hs=X(ct()),ps=X(require("child_process")),ds=X(require("fs")),Es=X(require("path")),ms=X(us());var ls=X(require("child_process"));function U(t){return t.message!==void 0}var Io=100;function cs(t,e,r){let s=fs(`${t} breaking ${e} --against ${r}`);if(U(s))return s;let i=fs(`${t} breaking ${e} --against ${r} --error-format=json`);if(U(i))return i;let n=Ro(i.trim().split(`
`).filter(o=>o!==""));return U(n)?n:{raw:s,fileAnnotations:n}}function fs(t){try{ls.execSync(t)}catch(e){return Oo(e)?e.status==Io?e.stdout.toString():{message:e.stderr.toString()}:{message:`failed to run command: ${t}`}}return""}function Ro(t){let e=[];for(let r=0;r<t.length;r++)try{let s=JSON.parse(t[r]);if(!No(s))return{message:`failed to parse "${t[r]}" as file annotation`};e.push(s)}catch(s){return{message:`failed to parse "${t[r]}" as file annotation`}}return e}function No(t){return"message"in t}function Oo(t){return"status"in t&&"stdout"in t&&"stderr"in t}var gs="0.41.0",vs="RUNNER_TEMP";async function $s(){try{let t=await So();t!=null&&U(t)&&T.setFailed(t.message)}catch(t){if(U(t)){T.setFailed(t.message);return}T.setFailed("Internal error")}}async function So(){var o;let t=T.getInput("input");if(t==="")return{message:"an input was not provided"};let e=T.getInput("against");if(e==="")return{message:"an against was not provided"};let r=await hs.which("buf",!0);if(r==="")return{message:'buf is not installed; please add the "bufbuild/buf-setup-action" step to your job found at https://github.com/bufbuild/buf-setup-action'};let s=ps.execSync(`${r} --version 2>&1`).toString();if(ms.lt(s,gs))return{message:`buf must be at least version ${gs}, but found ${s}`};let i=T.getInput("buf_token");if(i!==""){let a=(o=process.env[vs])!=null?o:"";if(a==="")return{message:`expected ${vs} to be defined`};let l=Es.join(a,".netrc");ds.writeFileSync(l,`machine buf.build
password ${i}`,{flag:"w"}),process.env.NETRC=l}let n=cs(r,t,e);return U(n)?n:n.fileAnnotations.length===0?(T.info("No breaking errors were found."),null):(n.fileAnnotations.forEach(a=>{let{path:l,start_line:d,start_column:h,message:u}=a;if(l===void 0||d===void 0||h===void 0){T.error(u);return}T.info(`::error file=${l},line=${d},col=${h}::${u}`)}),{message:`buf found ${n.fileAnnotations.length} breaking changes.`})}$s();
//# sourceMappingURL=main.js.map
