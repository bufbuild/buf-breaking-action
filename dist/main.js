"use strict";var ds=Object.create;var Ce=Object.defineProperty;var ps=Object.getOwnPropertyDescriptor;var ms=Object.getOwnPropertyNames;var vs=Object.getPrototypeOf,Es=Object.prototype.hasOwnProperty;var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gs=(t,e)=>{for(var r in e)Ce(t,r,{get:e[r],enumerable:!0})},Yt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ms(e))!Es.call(t,i)&&i!==r&&Ce(t,i,{get:()=>e[i],enumerable:!(n=ps(e,i))||n.enumerable});return t};var z=(t,e,r)=>(r=t!=null?ds(vs(t)):{},Yt(e||!t||!t.__esModule?Ce(r,"default",{value:t,enumerable:!0}):r,t)),ys=t=>Yt(Ce({},"__esModule",{value:!0}),t);var je=m(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.toCommandProperties=pe.toCommandValue=void 0;function ws(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}pe.toCommandValue=ws;function Rs(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}pe.toCommandProperties=Rs});var Qt=m(j=>{"use strict";var _s=j&&j.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Os=j&&j.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ss=j&&j.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&_s(e,t,r);return Os(e,t),e};Object.defineProperty(j,"__esModule",{value:!0});j.issue=j.issueCommand=void 0;var $s=Ss(require("os")),Kt=je();function zt(t,e,r){let n=new ut(t,e,r);process.stdout.write(n.toString()+$s.EOL)}j.issueCommand=zt;function Ts(t,e=""){zt(t,{},e)}j.issue=Ts;var Jt="::",ut=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=Jt+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${Is(i)}`)}}return e+=`${Jt}${As(this.message)}`,e}};function As(t){return Kt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Is(t){return Kt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Se(){return Fe>Me.length-16&&(Zt.default.randomFillSync(Me),Fe=0),Me.slice(Fe,Fe+=16)}var Zt,Me,Fe,lt=b(()=>{Zt=z(require("crypto")),Me=new Uint8Array(256),Fe=Me.length});var er,tr=b(()=>{er=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function xs(t){return typeof t=="string"&&er.test(t)}var Q,$e=b(()=>{tr();Q=xs});function bs(t,e=0){let r=(I[t[e+0]]+I[t[e+1]]+I[t[e+2]]+I[t[e+3]]+"-"+I[t[e+4]]+I[t[e+5]]+"-"+I[t[e+6]]+I[t[e+7]]+"-"+I[t[e+8]]+I[t[e+9]]+"-"+I[t[e+10]]+I[t[e+11]]+I[t[e+12]]+I[t[e+13]]+I[t[e+14]]+I[t[e+15]]).toLowerCase();if(!Q(r))throw TypeError("Stringified UUID is invalid");return r}var I,Z,Te=b(()=>{$e();I=[];for(let t=0;t<256;++t)I.push((t+256).toString(16).substr(1));Z=bs});function Ns(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||rr,o=t.clockseq!==void 0?t.clockseq:ct;if(s==null||o==null){let p=t.random||(t.rng||Se)();s==null&&(s=rr=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=ct=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:ht+1,l=a-ft+(u-ht)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||a>ft)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ft=a,ht=u,ct=o,a+=122192928e5;let c=((a&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let p=0;p<6;++p)i[n+p]=s[p];return e||Z(i)}var rr,ct,ft,ht,nr,ir=b(()=>{lt();Te();ft=0,ht=0;nr=Ns});function qs(t){if(!Q(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Be,dt=b(()=>{$e();Be=qs});function Ps(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Ge(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=Ps(i)),typeof s=="string"&&(s=Be(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let l=0;l<16;++l)o[a+l]=u[l];return o}return Z(u)}try{n.name=t}catch{}return n.DNS=Ls,n.URL=Ds,n}var Ls,Ds,pt=b(()=>{Te();dt();Ls="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ds="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Us(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),sr.default.createHash("md5").update(t).digest()}var sr,or,ar=b(()=>{sr=z(require("crypto"));or=Us});var Cs,ur,lr=b(()=>{pt();ar();Cs=Ge("v3",48,or),ur=Cs});function js(t,e,r){t=t||{};let n=t.random||(t.rng||Se)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Z(n)}var cr,fr=b(()=>{lt();Te();cr=js});function Fs(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),hr.default.createHash("sha1").update(t).digest()}var hr,dr,pr=b(()=>{hr=z(require("crypto"));dr=Fs});var Ms,mr,vr=b(()=>{pt();pr();Ms=Ge("v5",80,dr),mr=Ms});var Er,gr=b(()=>{Er="00000000-0000-0000-0000-000000000000"});function Bs(t){if(!Q(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var yr,wr=b(()=>{$e();yr=Bs});var Rr={};gs(Rr,{NIL:()=>Er,parse:()=>Be,stringify:()=>Z,v1:()=>nr,v3:()=>ur,v4:()=>cr,v5:()=>mr,validate:()=>Q,version:()=>yr});var _r=b(()=>{ir();lr();fr();vr();gr();wr();$e();Te();dt()});var Tr=m(F=>{"use strict";var Gs=F&&F.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vs=F&&F.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sr=F&&F.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Gs(e,t,r);return Vs(e,t),e};Object.defineProperty(F,"__esModule",{value:!0});F.prepareKeyValueMessage=F.issueFileCommand=void 0;var Or=Sr(require("fs")),mt=Sr(require("os")),ks=(_r(),ys(Rr)),$r=je();function Xs(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!Or.existsSync(r))throw new Error(`Missing file at path: ${r}`);Or.appendFileSync(r,`${$r.toCommandValue(e)}${mt.EOL}`,{encoding:"utf8"})}F.issueFileCommand=Xs;function Hs(t,e){let r=`ghadelimiter_${ks.v4()}`,n=$r.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${mt.EOL}${n}${mt.EOL}${r}`}F.prepareKeyValueMessage=Hs});var Ir=m(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.checkBypass=me.getProxyUrl=void 0;function Ws(t){let e=t.protocol==="https:";if(Ar(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}me.getProxyUrl=Ws;function Ar(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}me.checkBypass=Ar});var qr=m(ve=>{"use strict";var cc=require("net"),Ys=require("tls"),vt=require("http"),xr=require("https"),Js=require("events"),fc=require("assert"),Ks=require("util");ve.httpOverHttp=zs;ve.httpsOverHttp=Qs;ve.httpOverHttps=Zs;ve.httpsOverHttps=eo;function zs(t){var e=new Y(t);return e.request=vt.request,e}function Qs(t){var e=new Y(t);return e.request=vt.request,e.createSocket=br,e.defaultPort=443,e}function Zs(t){var e=new Y(t);return e.request=xr.request,e}function eo(t){var e=new Y(t);return e.request=xr.request,e.createSocket=br,e.defaultPort=443,e}function Y(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||vt.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var a=Nr(i,s,o),u=0,l=e.requests.length;u<l;++u){var c=e.requests[u];if(c.host===a.host&&c.port===a.port){e.requests.splice(u,1),c.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}Ks.inherits(Y,Js.EventEmitter);Y.prototype.addRequest=function(e,r,n,i){var s=this,o=Et({request:e},s.options,Nr(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",l),a.on("agentRemove",l),e.onSocket(a);function u(){s.emit("free",a,o)}function l(c){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",l),a.removeListener("agentRemove",l)}})};Y.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=Et({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),ee("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",l),o.once("error",c),o.end();function a(f){f.upgrade=!0}function u(f,p,E){process.nextTick(function(){l(f,p,E)})}function l(f,p,E){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){ee("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var oe=new Error("tunneling socket could not be established, statusCode="+f.statusCode);oe.code="ECONNRESET",e.request.emit("error",oe),n.removeSocket(i);return}if(E.length>0){ee("got illegal response body from proxy"),p.destroy();var oe=new Error("got illegal response body from proxy");oe.code="ECONNRESET",e.request.emit("error",oe),n.removeSocket(i);return}return ee("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function c(f){o.removeAllListeners(),ee(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",e.request.emit("error",p),n.removeSocket(i)}};Y.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function br(t,e){var r=this;Y.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=Et({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=Ys.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function Nr(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Et(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(t[a]=n[a])}}return t}var ee;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ee=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:ee=function(){};ve.debug=ee});var Lr=m((dc,Pr)=>{Pr.exports=qr()});var Ur=m(_=>{"use strict";var to=_&&_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ro=_&&_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),We=_&&_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&to(e,t,r);return ro(e,t),e},T=_&&_.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(_,"__esModule",{value:!0});_.HttpClient=_.isHttps=_.HttpClientResponse=_.HttpClientError=_.getProxyUrl=_.MediaTypes=_.Headers=_.HttpCodes=void 0;var Ve=We(require("http")),gt=We(require("https")),Dr=We(Ir()),ke=We(Lr()),k;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(k=_.HttpCodes||(_.HttpCodes={}));var N;(function(t){t.Accept="accept",t.ContentType="content-type"})(N=_.Headers||(_.Headers={}));var te;(function(t){t.ApplicationJson="application/json"})(te=_.MediaTypes||(_.MediaTypes={}));function no(t){let e=Dr.getProxyUrl(new URL(t));return e?e.href:""}_.getProxyUrl=no;var io=[k.MovedPermanently,k.ResourceMoved,k.SeeOther,k.TemporaryRedirect,k.PermanentRedirect],so=[k.BadGateway,k.ServiceUnavailable,k.GatewayTimeout],oo=["OPTIONS","GET","DELETE","HEAD"],ao=10,uo=5,Ee=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ee.prototype)}};_.HttpClientError=Ee;var He=class{constructor(e){this.message=e}readBody(){return T(this,void 0,void 0,function*(){return new Promise(e=>T(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};_.HttpClientResponse=He;function lo(t){return new URL(t).protocol==="https:"}_.isHttps=lo;var yt=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return T(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return T(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return T(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return T(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return T(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return T(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return T(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return T(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return T(this,void 0,void 0,function*(){r[N.Accept]=this._getExistingOrDefaultHeader(r,N.Accept,te.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return T(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return T(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return T(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return T(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),a=this._allowRetries&&oo.includes(e)?this._maxRetries+1:1,u=0,l;do{if(l=yield this.requestRaw(o,n),l&&l.message&&l.message.statusCode===k.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(l)){f=p;break}return f?f.handleAuthentication(this,o,n):l}let c=this._maxRedirects;for(;l.message.statusCode&&io.includes(l.message.statusCode)&&this._allowRedirects&&c>0;){let f=l.message.headers.location;if(!f)break;let p=new URL(f);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield l.readBody(),p.hostname!==s.hostname)for(let E in i)E.toLowerCase()==="authorization"&&delete i[E];o=this._prepareRequest(e,p,i),l=yield this.requestRaw(o,n),c--}if(!l.message.statusCode||!so.includes(l.message.statusCode))return l;u+=1,u<a&&(yield l.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return l})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return T(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(u,l){i||(i=!0,n(u,l))}let o=e.httpModule.request(e.options,u=>{let l=new He(u);s(void 0,l)}),a;o.on("socket",u=>{a=u}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(u){s(u)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?gt:Ve;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Xe(this.requestOptions.headers),Xe(e||{})):Xe(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Xe(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=Dr.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||Ve.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},u,l=n.protocol==="https:";s?u=l?ke.httpsOverHttps:ke.httpsOverHttp:u=l?ke.httpOverHttps:ke.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new gt.Agent(a):new Ve.Agent(a),this._agent=r}return r||(r=s?gt.globalAgent:Ve.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return T(this,void 0,void 0,function*(){e=Math.min(ao,e);let r=uo*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return T(this,void 0,void 0,function*(){return new Promise((n,i)=>T(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===k.NotFound&&n(o);function a(c,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let u,l;try{l=yield e.readBody(),l&&l.length>0&&(r&&r.deserializeDates?u=JSON.parse(l,a):u=JSON.parse(l),o.result=u),o.headers=e.message.headers}catch{}if(s>299){let c;u&&u.message?c=u.message:l&&l.length>0?c=l:c=`Failed request: (${s})`;let f=new Ee(c,s);f.result=o.result,i(f)}else n(o)}))})}};_.HttpClient=yt;var Xe=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var Cr=m(H=>{"use strict";var Ot=H&&H.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.PersonalAccessTokenCredentialHandler=H.BearerCredentialHandler=H.BasicCredentialHandler=void 0;var wt=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ot(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BasicCredentialHandler=wt;var Rt=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ot(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BearerCredentialHandler=Rt;var _t=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ot(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.PersonalAccessTokenCredentialHandler=_t});var Mr=m(ge=>{"use strict";var jr=ge&&ge.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ge,"__esModule",{value:!0});ge.OidcClient=void 0;var co=Ur(),fo=Cr(),Fr=St(),re=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new co.HttpClient("actions/oidc-client",[new fo.BearerCredentialHandler(re.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return jr(this,void 0,void 0,function*(){let s=(r=(yield re.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return jr(this,void 0,void 0,function*(){try{let r=re.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}Fr.debug(`ID token url is ${r}`);let n=yield re.getCall(r);return Fr.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};ge.OidcClient=re});var It=m(L=>{"use strict";var $t=L&&L.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.summary=L.markdownSummary=L.SUMMARY_DOCS_URL=L.SUMMARY_ENV_VAR=void 0;var ho=require("os"),Tt=require("fs"),{access:po,appendFile:mo,writeFile:vo}=Tt.promises;L.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";L.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var At=class{constructor(){this._buffer=""}filePath(){return $t(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[L.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${L.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield po(e,Tt.constants.R_OK|Tt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return $t(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?vo:mo)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return $t(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(ho.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:u,colspan:l,rowspan:c}=o,f=a?"th":"td",p=Object.assign(Object.assign({},l&&{colspan:l}),c&&{rowspan:c});return this.wrap(f,u,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},Br=new At;L.markdownSummary=Br;L.summary=Br});var Gr=m(D=>{"use strict";var Eo=D&&D.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),go=D&&D.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yo=D&&D.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Eo(e,t,r);return go(e,t),e};Object.defineProperty(D,"__esModule",{value:!0});D.toPlatformPath=D.toWin32Path=D.toPosixPath=void 0;var wo=yo(require("path"));function Ro(t){return t.replace(/[\\]/g,"/")}D.toPosixPath=Ro;function _o(t){return t.replace(/[/]/g,"\\")}D.toWin32Path=_o;function Oo(t){return t.replace(/[/\\]/g,wo.sep)}D.toPlatformPath=Oo});var St=m(v=>{"use strict";var So=v&&v.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$o=v&&v.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vr=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&So(e,t,r);return $o(e,t),e},kr=v&&v.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.getIDToken=v.getState=v.saveState=v.group=v.endGroup=v.startGroup=v.info=v.notice=v.warning=v.error=v.debug=v.isDebug=v.setFailed=v.setCommandEcho=v.setOutput=v.getBooleanInput=v.getMultilineInput=v.getInput=v.addPath=v.setSecret=v.exportVariable=v.ExitCode=void 0;var M=Qt(),ae=Tr(),ye=je(),Xr=Vr(require("os")),To=Vr(require("path")),Ao=Mr(),Hr;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Hr=v.ExitCode||(v.ExitCode={}));function Io(t,e){let r=ye.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return ae.issueFileCommand("ENV",ae.prepareKeyValueMessage(t,e));M.issueCommand("set-env",{name:t},r)}v.exportVariable=Io;function xo(t){M.issueCommand("add-mask",{},t)}v.setSecret=xo;function bo(t){process.env.GITHUB_PATH||""?ae.issueFileCommand("PATH",t):M.issueCommand("add-path",{},t),process.env.PATH=`${t}${To.delimiter}${process.env.PATH}`}v.addPath=bo;function xt(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}v.getInput=xt;function No(t,e){let r=xt(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}v.getMultilineInput=No;function qo(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=xt(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}v.getBooleanInput=qo;function Po(t,e){if(process.env.GITHUB_OUTPUT||"")return ae.issueFileCommand("OUTPUT",ae.prepareKeyValueMessage(t,e));process.stdout.write(Xr.EOL),M.issueCommand("set-output",{name:t},ye.toCommandValue(e))}v.setOutput=Po;function Lo(t){M.issue("echo",t?"on":"off")}v.setCommandEcho=Lo;function Do(t){process.exitCode=Hr.Failure,Wr(t)}v.setFailed=Do;function Uo(){return process.env.RUNNER_DEBUG==="1"}v.isDebug=Uo;function Co(t){M.issueCommand("debug",{},t)}v.debug=Co;function Wr(t,e={}){M.issueCommand("error",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}v.error=Wr;function jo(t,e={}){M.issueCommand("warning",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}v.warning=jo;function Fo(t,e={}){M.issueCommand("notice",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}v.notice=Fo;function Mo(t){process.stdout.write(t+Xr.EOL)}v.info=Mo;function Yr(t){M.issue("group",t)}v.startGroup=Yr;function Jr(){M.issue("endgroup")}v.endGroup=Jr;function Bo(t,e){return kr(this,void 0,void 0,function*(){Yr(t);let r;try{r=yield e()}finally{Jr()}return r})}v.group=Bo;function Go(t,e){if(process.env.GITHUB_STATE||"")return ae.issueFileCommand("STATE",ae.prepareKeyValueMessage(t,e));M.issueCommand("save-state",{name:t},ye.toCommandValue(e))}v.saveState=Go;function Vo(t){return process.env[`STATE_${t}`]||""}v.getState=Vo;function ko(t){return kr(this,void 0,void 0,function*(){return yield Ao.OidcClient.getIDToken(t)})}v.getIDToken=ko;var Xo=It();Object.defineProperty(v,"summary",{enumerable:!0,get:function(){return Xo.summary}});var Ho=It();Object.defineProperty(v,"markdownSummary",{enumerable:!0,get:function(){return Ho.markdownSummary}});var bt=Gr();Object.defineProperty(v,"toPosixPath",{enumerable:!0,get:function(){return bt.toPosixPath}});Object.defineProperty(v,"toWin32Path",{enumerable:!0,get:function(){return bt.toWin32Path}});Object.defineProperty(v,"toPlatformPath",{enumerable:!0,get:function(){return bt.toPlatformPath}})});var Qr=m(g=>{"use strict";var Wo=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yo=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zr=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Wo(e,t,r);return Yo(e,t),e},Nt=g&&g.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},B;Object.defineProperty(g,"__esModule",{value:!0});g.getCmdPath=g.tryGetExecutablePath=g.isRooted=g.isDirectory=g.exists=g.IS_WINDOWS=g.unlink=g.symlink=g.stat=g.rmdir=g.rename=g.readlink=g.readdir=g.mkdir=g.lstat=g.copyFile=g.chmod=void 0;var Jo=zr(require("fs")),Ye=zr(require("path"));B=Jo.promises,g.chmod=B.chmod,g.copyFile=B.copyFile,g.lstat=B.lstat,g.mkdir=B.mkdir,g.readdir=B.readdir,g.readlink=B.readlink,g.rename=B.rename,g.rmdir=B.rmdir,g.stat=B.stat,g.symlink=B.symlink,g.unlink=B.unlink;g.IS_WINDOWS=process.platform==="win32";function Ko(t){return Nt(this,void 0,void 0,function*(){try{yield g.stat(t)}catch(e){if(e.code==="ENOENT")return!1;throw e}return!0})}g.exists=Ko;function zo(t,e=!1){return Nt(this,void 0,void 0,function*(){return(e?yield g.stat(t):yield g.lstat(t)).isDirectory()})}g.isDirectory=zo;function Qo(t){if(t=ea(t),!t)throw new Error('isRooted() parameter "p" cannot be empty');return g.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")}g.isRooted=Qo;function Zo(t,e){return Nt(this,void 0,void 0,function*(){let r;try{r=yield g.stat(t)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${i}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){let i=Ye.extname(t).toUpperCase();if(e.some(s=>s.toUpperCase()===i))return t}else if(Kr(r))return t}let n=t;for(let i of e){t=n+i,r=void 0;try{r=yield g.stat(t)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${s}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){try{let s=Ye.dirname(t),o=Ye.basename(t).toUpperCase();for(let a of yield g.readdir(s))if(o===a.toUpperCase()){t=Ye.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${s}`)}return t}else if(Kr(r))return t}}return""})}g.tryGetExecutablePath=Zo;function ea(t){return t=t||"",g.IS_WINDOWS?(t=t.replace(/\//g,"\\"),t.replace(/\\\\+/g,"\\")):t.replace(/\/\/+/g,"/")}function Kr(t){return(t.mode&1)>0||(t.mode&8)>0&&t.gid===process.getgid()||(t.mode&64)>0&&t.uid===process.getuid()}function ta(){var t;return(t=process.env.COMSPEC)!==null&&t!==void 0?t:"cmd.exe"}g.getCmdPath=ta});var un=m(S=>{"use strict";var ra=S&&S.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),na=S&&S.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qt=S&&S.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ra(e,t,r);return na(e,t),e},ne=S&&S.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0});S.findInPath=S.which=S.mkdirP=S.rmRF=S.mv=S.cp=void 0;var ia=require("assert"),en=qt(require("child_process")),W=qt(require("path")),tn=require("util"),w=qt(Qr()),Zr=tn.promisify(en.exec),sa=tn.promisify(en.execFile);function oa(t,e,r={}){return ne(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:s}=ua(r),o=(yield w.exists(e))?yield w.stat(e):null;if(o&&o.isFile()&&!n)return;let a=o&&o.isDirectory()&&s?W.join(e,W.basename(t)):e;if(!(yield w.exists(t)))throw new Error(`no such file or directory: ${t}`);if((yield w.stat(t)).isDirectory())if(i)yield on(t,a,0,n);else throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`);else{if(W.relative(t,a)==="")throw new Error(`'${a}' and '${t}' are the same file`);yield an(t,a,n)}})}S.cp=oa;function aa(t,e,r={}){return ne(this,void 0,void 0,function*(){if(yield w.exists(e)){let n=!0;if((yield w.isDirectory(e))&&(e=W.join(e,W.basename(t)),n=yield w.exists(e)),n)if(r.force==null||r.force)yield rn(e);else throw new Error("Destination already exists")}yield Pt(W.dirname(e)),yield w.rename(t,e)})}S.mv=aa;function rn(t){return ne(this,void 0,void 0,function*(){if(w.IS_WINDOWS){if(/[*"<>|]/.test(t))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{let e=w.getCmdPath();(yield w.isDirectory(t,!0))?yield Zr(`${e} /s /c "rd /s /q "%inputPath%""`,{env:{inputPath:t}}):yield Zr(`${e} /s /c "del /f /a "%inputPath%""`,{env:{inputPath:t}})}catch(e){if(e.code!=="ENOENT")throw e}try{yield w.unlink(t)}catch(e){if(e.code!=="ENOENT")throw e}}else{let e=!1;try{e=yield w.isDirectory(t)}catch(r){if(r.code!=="ENOENT")throw r;return}e?yield sa("rm",["-rf",`${t}`]):yield w.unlink(t)}})}S.rmRF=rn;function Pt(t){return ne(this,void 0,void 0,function*(){ia.ok(t,"a path argument must be provided"),yield w.mkdir(t,{recursive:!0})})}S.mkdirP=Pt;function nn(t,e){return ne(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(e){let n=yield nn(t,!1);if(!n)throw w.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield sn(t);return r&&r.length>0?r[0]:""})}S.which=nn;function sn(t){return ne(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");let e=[];if(w.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(W.delimiter))i&&e.push(i);if(w.isRooted(t)){let i=yield w.tryGetExecutablePath(t,e);return i?[i]:[]}if(t.includes(W.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(W.delimiter))i&&r.push(i);let n=[];for(let i of r){let s=yield w.tryGetExecutablePath(W.join(i,t),e);s&&n.push(s)}return n})}S.findInPath=sn;function ua(t){let e=t.force==null?!0:t.force,r=Boolean(t.recursive),n=t.copySourceDirectory==null?!0:Boolean(t.copySourceDirectory);return{force:e,recursive:r,copySourceDirectory:n}}function on(t,e,r,n){return ne(this,void 0,void 0,function*(){if(r>=255)return;r++,yield Pt(e);let i=yield w.readdir(t);for(let s of i){let o=`${t}/${s}`,a=`${e}/${s}`;(yield w.lstat(o)).isDirectory()?yield on(o,a,r,n):yield an(o,a,n)}yield w.chmod(e,(yield w.stat(t)).mode)})}function an(t,e,r){return ne(this,void 0,void 0,function*(){if((yield w.lstat(t)).isSymbolicLink()){try{yield w.lstat(e),yield w.unlink(e)}catch(i){i.code==="EPERM"&&(yield w.chmod(e,"0666"),yield w.unlink(e))}let n=yield w.readlink(t);yield w.symlink(n,e,w.IS_WINDOWS?"junction":null)}else(!(yield w.exists(e))||r)&&(yield w.copyFile(t,e))})}});var Ae=m((_c,ln)=>{var la="2.0.0",ca=Number.MAX_SAFE_INTEGER||9007199254740991,fa=16;ln.exports={SEMVER_SPEC_VERSION:la,MAX_LENGTH:256,MAX_SAFE_INTEGER:ca,MAX_SAFE_COMPONENT_LENGTH:fa}});var Ie=m((Oc,cn)=>{var ha=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};cn.exports=ha});var ue=m((ie,fn)=>{var{MAX_SAFE_COMPONENT_LENGTH:Lt}=Ae(),da=Ie();ie=fn.exports={};var pa=ie.re=[],h=ie.src=[],d=ie.t={},ma=0,y=(t,e,r)=>{let n=ma++;da(t,n,e),d[t]=n,h[n]=e,pa[n]=new RegExp(e,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","[0-9]+");y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");y("MAINVERSION",`(${h[d.NUMERICIDENTIFIER]})\\.(${h[d.NUMERICIDENTIFIER]})\\.(${h[d.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${h[d.NUMERICIDENTIFIERLOOSE]})\\.(${h[d.NUMERICIDENTIFIERLOOSE]})\\.(${h[d.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${h[d.NUMERICIDENTIFIER]}|${h[d.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${h[d.NUMERICIDENTIFIERLOOSE]}|${h[d.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${h[d.PRERELEASEIDENTIFIER]}(?:\\.${h[d.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${h[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[d.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER","[0-9A-Za-z-]+");y("BUILD",`(?:\\+(${h[d.BUILDIDENTIFIER]}(?:\\.${h[d.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${h[d.MAINVERSION]}${h[d.PRERELEASE]}?${h[d.BUILD]}?`);y("FULL",`^${h[d.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${h[d.MAINVERSIONLOOSE]}${h[d.PRERELEASELOOSE]}?${h[d.BUILD]}?`);y("LOOSE",`^${h[d.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${h[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${h[d.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${h[d.XRANGEIDENTIFIER]})(?:\\.(${h[d.XRANGEIDENTIFIER]})(?:\\.(${h[d.XRANGEIDENTIFIER]})(?:${h[d.PRERELEASE]})?${h[d.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${h[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[d.XRANGEIDENTIFIERLOOSE]})(?:${h[d.PRERELEASELOOSE]})?${h[d.BUILD]}?)?)?`);y("XRANGE",`^${h[d.GTLT]}\\s*${h[d.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${h[d.GTLT]}\\s*${h[d.XRANGEPLAINLOOSE]}$`);y("COERCE",`(^|[^\\d])(\\d{1,${Lt}})(?:\\.(\\d{1,${Lt}}))?(?:\\.(\\d{1,${Lt}}))?(?:$|[^\\d])`);y("COERCERTL",h[d.COERCE],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${h[d.LONETILDE]}\\s+`,!0);ie.tildeTrimReplace="$1~";y("TILDE",`^${h[d.LONETILDE]}${h[d.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${h[d.LONETILDE]}${h[d.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${h[d.LONECARET]}\\s+`,!0);ie.caretTrimReplace="$1^";y("CARET",`^${h[d.LONECARET]}${h[d.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${h[d.LONECARET]}${h[d.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${h[d.GTLT]}\\s*(${h[d.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${h[d.GTLT]}\\s*(${h[d.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${h[d.GTLT]}\\s*(${h[d.LOOSEPLAIN]}|${h[d.XRANGEPLAIN]})`,!0);ie.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${h[d.XRANGEPLAIN]})\\s+-\\s+(${h[d.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${h[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[d.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var xe=m((Sc,hn)=>{var va=["includePrerelease","loose","rtl"],Ea=t=>t?typeof t!="object"?{loose:!0}:va.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};hn.exports=Ea});var Je=m(($c,mn)=>{var dn=/^[0-9]+$/,pn=(t,e)=>{let r=dn.test(t),n=dn.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},ga=(t,e)=>pn(e,t);mn.exports={compareIdentifiers:pn,rcompareIdentifiers:ga}});var x=m((Tc,yn)=>{var Ke=Ie(),{MAX_LENGTH:vn,MAX_SAFE_INTEGER:ze}=Ae(),{re:En,t:gn}=ue(),ya=xe(),{compareIdentifiers:we}=Je(),C=class{constructor(e,r){if(r=ya(r),e instanceof C){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>vn)throw new TypeError(`version is longer than ${vn} characters`);Ke("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?En[gn.LOOSE]:En[gn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ze||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ze||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ze||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ze)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ke("SemVer.compare",this.version,this.options,e),!(e instanceof C)){if(typeof e=="string"&&e===this.version)return 0;e=new C(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof C||(e=new C(e,this.options)),we(this.major,e.major)||we(this.minor,e.minor)||we(this.patch,e.patch)}comparePre(e){if(e instanceof C||(e=new C(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Ke("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return we(n,i)}while(++r)}compareBuild(e){e instanceof C||(e=new C(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Ke("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return we(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(we(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};yn.exports=C});var le=m((Ac,On)=>{var{MAX_LENGTH:wa}=Ae(),{re:wn,t:Rn}=ue(),_n=x(),Ra=xe(),_a=(t,e)=>{if(e=Ra(e),t instanceof _n)return t;if(typeof t!="string"||t.length>wa||!(e.loose?wn[Rn.LOOSE]:wn[Rn.FULL]).test(t))return null;try{return new _n(t,e)}catch{return null}};On.exports=_a});var $n=m((Ic,Sn)=>{var Oa=le(),Sa=(t,e)=>{let r=Oa(t,e);return r?r.version:null};Sn.exports=Sa});var An=m((xc,Tn)=>{var $a=le(),Ta=(t,e)=>{let r=$a(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Tn.exports=Ta});var bn=m((bc,xn)=>{var In=x(),Aa=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new In(t instanceof In?t.version:t,r).inc(e,n).version}catch{return null}};xn.exports=Aa});var G=m((Nc,qn)=>{var Nn=x(),Ia=(t,e,r)=>new Nn(t,r).compare(new Nn(e,r));qn.exports=Ia});var Qe=m((qc,Pn)=>{var xa=G(),ba=(t,e,r)=>xa(t,e,r)===0;Pn.exports=ba});var Un=m((Pc,Dn)=>{var Ln=le(),Na=Qe(),qa=(t,e)=>{if(Na(t,e))return null;{let r=Ln(t),n=Ln(e),i=r.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return o}};Dn.exports=qa});var jn=m((Lc,Cn)=>{var Pa=x(),La=(t,e)=>new Pa(t,e).major;Cn.exports=La});var Mn=m((Dc,Fn)=>{var Da=x(),Ua=(t,e)=>new Da(t,e).minor;Fn.exports=Ua});var Gn=m((Uc,Bn)=>{var Ca=x(),ja=(t,e)=>new Ca(t,e).patch;Bn.exports=ja});var kn=m((Cc,Vn)=>{var Fa=le(),Ma=(t,e)=>{let r=Fa(t,e);return r&&r.prerelease.length?r.prerelease:null};Vn.exports=Ma});var Hn=m((jc,Xn)=>{var Ba=G(),Ga=(t,e,r)=>Ba(e,t,r);Xn.exports=Ga});var Yn=m((Fc,Wn)=>{var Va=G(),ka=(t,e)=>Va(t,e,!0);Wn.exports=ka});var Ze=m((Mc,Kn)=>{var Jn=x(),Xa=(t,e,r)=>{let n=new Jn(t,r),i=new Jn(e,r);return n.compare(i)||n.compareBuild(i)};Kn.exports=Xa});var Qn=m((Bc,zn)=>{var Ha=Ze(),Wa=(t,e)=>t.sort((r,n)=>Ha(r,n,e));zn.exports=Wa});var ei=m((Gc,Zn)=>{var Ya=Ze(),Ja=(t,e)=>t.sort((r,n)=>Ya(n,r,e));Zn.exports=Ja});var be=m((Vc,ti)=>{var Ka=G(),za=(t,e,r)=>Ka(t,e,r)>0;ti.exports=za});var et=m((kc,ri)=>{var Qa=G(),Za=(t,e,r)=>Qa(t,e,r)<0;ri.exports=Za});var Dt=m((Xc,ni)=>{var eu=G(),tu=(t,e,r)=>eu(t,e,r)!==0;ni.exports=tu});var tt=m((Hc,ii)=>{var ru=G(),nu=(t,e,r)=>ru(t,e,r)>=0;ii.exports=nu});var rt=m((Wc,si)=>{var iu=G(),su=(t,e,r)=>iu(t,e,r)<=0;si.exports=su});var Ut=m((Yc,oi)=>{var ou=Qe(),au=Dt(),uu=be(),lu=tt(),cu=et(),fu=rt(),hu=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ou(t,r,n);case"!=":return au(t,r,n);case">":return uu(t,r,n);case">=":return lu(t,r,n);case"<":return cu(t,r,n);case"<=":return fu(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};oi.exports=hu});var ui=m((Jc,ai)=>{var du=x(),pu=le(),{re:nt,t:it}=ue(),mu=(t,e)=>{if(t instanceof du)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(nt[it.COERCE]);else{let n;for(;(n=nt[it.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),nt[it.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;nt[it.COERCERTL].lastIndex=-1}return r===null?null:pu(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};ai.exports=mu});var ci=m((Kc,li)=>{"use strict";li.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var hi=m((zc,fi)=>{"use strict";fi.exports=R;R.Node=ce;R.create=R;function R(t){var e=this;if(e instanceof R||(e=new R),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}R.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};R.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};R.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};R.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Eu(this,arguments[t]);return this.length};R.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)gu(this,arguments[t]);return this.length};R.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};R.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};R.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};R.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};R.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};R.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};R.prototype.map=function(t,e){e=e||this;for(var r=new R,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};R.prototype.mapReverse=function(t,e){e=e||this;for(var r=new R,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};R.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};R.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};R.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};R.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};R.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};R.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};R.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=vu(this,i,r[n]);return s};R.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function vu(t,e,r){var n=e===t.head?new ce(r,null,e,t):new ce(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Eu(t,e){t.tail=new ce(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function gu(t,e){t.head=new ce(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ce(t,e,r,n){if(!(this instanceof ce))return new ce(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ci()(R)}catch{}});var Ei=m((Qc,vi)=>{"use strict";var yu=hi(),fe=Symbol("max"),K=Symbol("length"),Re=Symbol("lengthCalculator"),qe=Symbol("allowStale"),he=Symbol("maxAge"),J=Symbol("dispose"),di=Symbol("noDisposeOnSet"),A=Symbol("lruList"),X=Symbol("cache"),mi=Symbol("updateAgeOnGet"),Ct=()=>1,Ft=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[fe]=e.max||1/0,n=e.length||Ct;if(this[Re]=typeof n!="function"?Ct:n,this[qe]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[he]=e.maxAge||0,this[J]=e.dispose,this[di]=e.noDisposeOnSet||!1,this[mi]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[fe]=e||1/0,Ne(this)}get max(){return this[fe]}set allowStale(e){this[qe]=!!e}get allowStale(){return this[qe]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[he]=e,Ne(this)}get maxAge(){return this[he]}set lengthCalculator(e){typeof e!="function"&&(e=Ct),e!==this[Re]&&(this[Re]=e,this[K]=0,this[A].forEach(r=>{r.length=this[Re](r.value,r.key),this[K]+=r.length})),Ne(this)}get lengthCalculator(){return this[Re]}get length(){return this[K]}get itemCount(){return this[A].length}rforEach(e,r){r=r||this;for(let n=this[A].tail;n!==null;){let i=n.prev;pi(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[A].head;n!==null;){let i=n.next;pi(this,e,n,r),n=i}}keys(){return this[A].toArray().map(e=>e.key)}values(){return this[A].toArray().map(e=>e.value)}reset(){this[J]&&this[A]&&this[A].length&&this[A].forEach(e=>this[J](e.key,e.value)),this[X]=new Map,this[A]=new yu,this[K]=0}dump(){return this[A].map(e=>st(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[A]}set(e,r,n){if(n=n||this[he],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Re](r,e);if(this[X].has(e)){if(s>this[fe])return _e(this,this[X].get(e)),!1;let u=this[X].get(e).value;return this[J]&&(this[di]||this[J](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[K]+=s-u.length,u.length=s,this.get(e),Ne(this),!0}let o=new Mt(e,r,s,i,n);return o.length>this[fe]?(this[J]&&this[J](e,r),!1):(this[K]+=o.length,this[A].unshift(o),this[X].set(e,this[A].head),Ne(this),!0)}has(e){if(!this[X].has(e))return!1;let r=this[X].get(e).value;return!st(this,r)}get(e){return jt(this,e,!0)}peek(e){return jt(this,e,!1)}pop(){let e=this[A].tail;return e?(_e(this,e),e.value):null}del(e){_e(this,this[X].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[X].forEach((e,r)=>jt(this,r,!1))}},jt=(t,e,r)=>{let n=t[X].get(e);if(n){let i=n.value;if(st(t,i)){if(_e(t,n),!t[qe])return}else r&&(t[mi]&&(n.value.now=Date.now()),t[A].unshiftNode(n));return i.value}},st=(t,e)=>{if(!e||!e.maxAge&&!t[he])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[he]&&r>t[he]},Ne=t=>{if(t[K]>t[fe])for(let e=t[A].tail;t[K]>t[fe]&&e!==null;){let r=e.prev;_e(t,e),e=r}},_e=(t,e)=>{if(e){let r=e.value;t[J]&&t[J](r.key,r.value),t[K]-=r.length,t[X].delete(r.key),t[A].removeNode(e)}},Mt=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},pi=(t,e,r,n)=>{let i=r.value;st(t,i)&&(_e(t,r),t[qe]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};vi.exports=Ft});var V=m((Zc,Ri)=>{var de=class{constructor(e,r){if(r=Ru(r),e instanceof de)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new de(e.raw,r);if(e instanceof Bt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!yi(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Tu(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=gi.get(n);if(i)return i;let s=this.options.loose,o=s?U[q.HYPHENRANGELOOSE]:U[q.HYPHENRANGE];e=e.replace(o,Uu(this.options.includePrerelease)),O("hyphen replace",e),e=e.replace(U[q.COMPARATORTRIM],Ou),O("comparator trim",e),e=e.replace(U[q.TILDETRIM],Su),e=e.replace(U[q.CARETTRIM],$u),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(f=>Au(f,this.options)).join(" ").split(/\s+/).map(f=>Du(f,this.options));s&&(a=a.filter(f=>(O("loose invalid filter",f,this.options),!!f.match(U[q.COMPARATORLOOSE])))),O("range list",a);let u=new Map,l=a.map(f=>new Bt(f,this.options));for(let f of l){if(yi(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let c=[...u.values()];return gi.set(n,c),c}intersects(e,r){if(!(e instanceof de))throw new TypeError("a Range is required");return this.set.some(n=>wi(n,r)&&e.set.some(i=>wi(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new _u(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Cu(this.set[r],e,this.options))return!0;return!1}};Ri.exports=de;var wu=Ei(),gi=new wu({max:1e3}),Ru=xe(),Bt=Pe(),O=Ie(),_u=x(),{re:U,t:q,comparatorTrimReplace:Ou,tildeTrimReplace:Su,caretTrimReplace:$u}=ue(),yi=t=>t.value==="<0.0.0-0",Tu=t=>t.value==="",wi=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},Au=(t,e)=>(O("comp",t,e),t=bu(t,e),O("caret",t),t=Iu(t,e),O("tildes",t),t=qu(t,e),O("xrange",t),t=Lu(t,e),O("stars",t),t),P=t=>!t||t.toLowerCase()==="x"||t==="*",Iu=(t,e)=>t.trim().split(/\s+/).map(r=>xu(r,e)).join(" "),xu=(t,e)=>{let r=e.loose?U[q.TILDELOOSE]:U[q.TILDE];return t.replace(r,(n,i,s,o,a)=>{O("tilde",t,n,i,s,o,a);let u;return P(i)?u="":P(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:P(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(O("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,O("tilde return",u),u})},bu=(t,e)=>t.trim().split(/\s+/).map(r=>Nu(r,e)).join(" "),Nu=(t,e)=>{O("caret",t,e);let r=e.loose?U[q.CARETLOOSE]:U[q.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{O("caret",t,i,s,o,a,u);let l;return P(s)?l="":P(o)?l=`>=${s}.0.0${n} <${+s+1}.0.0-0`:P(a)?s==="0"?l=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(O("replaceCaret pr",u),s==="0"?o==="0"?l=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(O("no pr"),s==="0"?o==="0"?l=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),O("caret return",l),l})},qu=(t,e)=>(O("replaceXRanges",t,e),t.split(/\s+/).map(r=>Pu(r,e)).join(" ")),Pu=(t,e)=>{t=t.trim();let r=e.loose?U[q.XRANGELOOSE]:U[q.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{O("xRange",t,n,i,s,o,a,u);let l=P(s),c=l||P(o),f=c||P(a),p=f;return i==="="&&p&&(i=""),u=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(c&&(o=0),a=0,i===">"?(i=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):c?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),O("xRange return",n),n})},Lu=(t,e)=>(O("replaceStars",t,e),t.trim().replace(U[q.STAR],"")),Du=(t,e)=>(O("replaceGTE0",t,e),t.trim().replace(U[e.includePrerelease?q.GTE0PRE:q.GTE0],"")),Uu=t=>(e,r,n,i,s,o,a,u,l,c,f,p,E)=>(P(n)?r="":P(i)?r=`>=${n}.0.0${t?"-0":""}`:P(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,P(l)?u="":P(c)?u=`<${+l+1}.0.0-0`:P(f)?u=`<${l}.${+c+1}.0-0`:p?u=`<=${l}.${c}.${f}-${p}`:t?u=`<${l}.${c}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),Cu=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(O(t[n].semver),t[n].semver!==Bt.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Pe=m((ef,Ti)=>{var Le=Symbol("SemVer ANY"),Oe=class{static get ANY(){return Le}constructor(e,r){if(r=ju(r),e instanceof Oe){if(e.loose===!!r.loose)return e;e=e.value}Vt("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Le?this.value="":this.value=this.operator+this.semver.version,Vt("comp",this)}parse(e){let r=this.options.loose?_i[Oi.COMPARATORLOOSE]:_i[Oi.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Si(n[2],this.options.loose):this.semver=Le}toString(){return this.value}test(e){if(Vt("Comparator.test",e,this.options.loose),this.semver===Le||e===Le)return!0;if(typeof e=="string")try{e=new Si(e,this.options)}catch{return!1}return Gt(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Oe))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new $i(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new $i(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Gt(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Gt(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u}};Ti.exports=Oe;var ju=xe(),{re:_i,t:Oi}=ue(),Gt=Ut(),Vt=Ie(),Si=x(),$i=V()});var De=m((tf,Ai)=>{var Fu=V(),Mu=(t,e,r)=>{try{e=new Fu(e,r)}catch{return!1}return e.test(t)};Ai.exports=Mu});var xi=m((rf,Ii)=>{var Bu=V(),Gu=(t,e)=>new Bu(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ii.exports=Gu});var Ni=m((nf,bi)=>{var Vu=x(),ku=V(),Xu=(t,e,r)=>{let n=null,i=null,s=null;try{s=new ku(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Vu(n,r))}),n};bi.exports=Xu});var Pi=m((sf,qi)=>{var Hu=x(),Wu=V(),Yu=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Wu(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Hu(n,r))}),n};qi.exports=Yu});var Ui=m((of,Di)=>{var kt=x(),Ju=V(),Li=be(),Ku=(t,e)=>{t=new Ju(t,e);let r=new kt("0.0.0");if(t.test(r)||(r=new kt("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new kt(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Li(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Li(r,s))&&(r=s)}return r&&t.test(r)?r:null};Di.exports=Ku});var ji=m((af,Ci)=>{var zu=V(),Qu=(t,e)=>{try{return new zu(t,e).range||"*"}catch{return null}};Ci.exports=Qu});var ot=m((uf,Gi)=>{var Zu=x(),Bi=Pe(),{ANY:el}=Bi,tl=V(),rl=De(),Fi=be(),Mi=et(),nl=rt(),il=tt(),sl=(t,e,r,n)=>{t=new Zu(t,n),e=new tl(e,n);let i,s,o,a,u;switch(r){case">":i=Fi,s=nl,o=Mi,a=">",u=">=";break;case"<":i=Mi,s=il,o=Fi,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(rl(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let c=e.set[l],f=null,p=null;if(c.forEach(E=>{E.semver===el&&(E=new Bi(">=0.0.0")),f=f||E,p=p||E,i(E.semver,f.semver,n)?f=E:o(E.semver,p.semver,n)&&(p=E)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===u&&o(t,p.semver))return!1}return!0};Gi.exports=sl});var ki=m((lf,Vi)=>{var ol=ot(),al=(t,e,r)=>ol(t,e,">",r);Vi.exports=al});var Hi=m((cf,Xi)=>{var ul=ot(),ll=(t,e,r)=>ul(t,e,"<",r);Xi.exports=ll});var Ji=m((ff,Yi)=>{var Wi=V(),cl=(t,e,r)=>(t=new Wi(t,r),e=new Wi(e,r),t.intersects(e));Yi.exports=cl});var zi=m((hf,Ki)=>{var fl=De(),hl=G();Ki.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((c,f)=>hl(c,f,r));for(let c of o)fl(c,e,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var rs=m((df,ts)=>{var Qi=V(),at=Pe(),{ANY:Xt}=at,Ue=De(),Ht=G(),dl=(t,e,r={})=>{if(t===e)return!0;t=new Qi(t,r),e=new Qi(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=pl(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},pl=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Xt){if(e.length===1&&e[0].semver===Xt)return!0;r.includePrerelease?t=[new at(">=0.0.0-0")]:t=[new at(">=0.0.0")]}if(e.length===1&&e[0].semver===Xt){if(r.includePrerelease)return!0;e=[new at(">=0.0.0")]}let n=new Set,i,s;for(let E of t)E.operator===">"||E.operator===">="?i=Zi(i,E,r):E.operator==="<"||E.operator==="<="?s=es(s,E,r):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ht(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(i&&!Ue(E,String(i),r)||s&&!Ue(E,String(s),r))return null;for(let oe of e)if(!Ue(E,String(oe),r))return!1;return!0}let a,u,l,c,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let E of e){if(c=c||E.operator===">"||E.operator===">=",l=l||E.operator==="<"||E.operator==="<=",i){if(p&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===p.major&&E.semver.minor===p.minor&&E.semver.patch===p.patch&&(p=!1),E.operator===">"||E.operator===">="){if(a=Zi(i,E,r),a===E&&a!==i)return!1}else if(i.operator===">="&&!Ue(i.semver,String(E),r))return!1}if(s){if(f&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===f.major&&E.semver.minor===f.minor&&E.semver.patch===f.patch&&(f=!1),E.operator==="<"||E.operator==="<="){if(u=es(s,E,r),u===E&&u!==s)return!1}else if(s.operator==="<="&&!Ue(s.semver,String(E),r))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&c&&!i&&o!==0||p||f)},Zi=(t,e,r)=>{if(!t)return e;let n=Ht(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},es=(t,e,r)=>{if(!t)return e;let n=Ht(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};ts.exports=dl});var is=m((pf,ns)=>{var Wt=ue();ns.exports={re:Wt.re,src:Wt.src,tokens:Wt.t,SEMVER_SPEC_VERSION:Ae().SEMVER_SPEC_VERSION,SemVer:x(),compareIdentifiers:Je().compareIdentifiers,rcompareIdentifiers:Je().rcompareIdentifiers,parse:le(),valid:$n(),clean:An(),inc:bn(),diff:Un(),major:jn(),minor:Mn(),patch:Gn(),prerelease:kn(),compare:G(),rcompare:Hn(),compareLoose:Yn(),compareBuild:Ze(),sort:Qn(),rsort:ei(),gt:be(),lt:et(),eq:Qe(),neq:Dt(),gte:tt(),lte:rt(),cmp:Ut(),coerce:ui(),Comparator:Pe(),Range:V(),satisfies:De(),toComparators:xi(),maxSatisfying:Ni(),minSatisfying:Pi(),minVersion:Ui(),validRange:ji(),outside:ot(),gtr:ki(),ltr:Hi(),intersects:Ji(),simplifyRange:zi(),subset:rs()}});var $=z(St()),ls=z(un()),cs=z(require("child_process")),fs=z(is());var os=z(require("child_process"));function se(t){return t.message!==void 0}var ml=100;function as(t,e,r){let n=ss(`${t} breaking ${e} --against ${r}`);if(se(n))return n;let i=ss(`${t} breaking ${e} --against ${r} --error-format=json`);if(se(i))return i;let s=vl(i.trim().split(`
`).filter(o=>o!==""));return se(s)?s:{raw:n,fileAnnotations:s}}function ss(t){try{os.execSync(t)}catch(e){return gl(e)?e.status==ml?e.stdout.toString():{message:e.stderr.toString()}:{message:`failed to run command: ${t}`}}return""}function vl(t){let e=[];for(let r=0;r<t.length;r++)try{let n=JSON.parse(t[r]);if(!El(n))return{message:`failed to parse "${t[r]}" as file annotation`};e.push(n)}catch{return{message:`failed to parse "${t[r]}" as file annotation`}}return e}function El(t){return"message"in t}function gl(t){return"status"in t&&"stdout"in t&&"stderr"in t}var us="0.41.0",yl="BUF_INPUT_HTTPS_USERNAME",wl="BUF_INPUT_HTTPS_PASSWORD";async function hs(){try{let t=await Rl();t!=null&&se(t)&&$.setFailed(t.message)}catch(t){if(se(t)){$.setFailed(t.message);return}$.setFailed("Internal error")}}async function Rl(){let t=$.getInput("input");if(t==="")return{message:"an input was not provided"};let e=$.getInput("against");if(e==="")return{message:"an against was not provided"};let r=$.getInput("buf_input_https_username");if(r==="")return{message:"buf_input_https_username not provided"};process.env[yl]=r;let n=$.getInput("buf_input_https_password");if(n==="")return{message:"buf_input_https_password not provided"};process.env[wl]=n;let i=await ls.which("buf",!0);if(i==="")return{message:'buf is not installed; please add the "bufbuild/buf-setup-action" step to your job found at https://github.com/bufbuild/buf-setup-action'};let s=cs.execSync(`${i} --version 2>&1`).toString();if(fs.lt(s,us))return{message:`buf must be at least version ${us}, but found ${s}`};let o=$.getInput("buf_token");o!==""&&($.exportVariable("BUF_TOKEN",o),$.setSecret(o));let a=as(i,t,e);return se(a)?a:($.setOutput("results",a.fileAnnotations),a.fileAnnotations.length===0?($.info("No breaking errors were found."),null):(a.fileAnnotations.forEach(u=>{let{path:l,start_line:c,start_column:f,message:p}=u;if(l===void 0||c===void 0||f===void 0){$.error(p);return}$.info(`::error file=${l},line=${c},col=${f}::${p}`)}),{message:`buf found ${a.fileAnnotations.length} breaking changes.`}))}hs();
//# sourceMappingURL=main.js.map
